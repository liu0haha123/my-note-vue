(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e356fa14"],{2172:function(e,s,i){"use strict";i("cf5d")},"578a":function(e,s,i){"use strict";i.r(s);var t=function(){var e=this,s=e._self._c;return s("div",{attrs:{id:"login"}},[s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal-container"},[s("div",{staticClass:"main"}),s("div",{staticClass:"form"},[s("h3",{on:{click:e.showRegister}},[e._v("创建账户")]),s("transition",{attrs:{name:"slide"}},[s("div",{staticClass:"register",class:{show:e.isShowRegister}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.register.username,expression:"register.username"}],attrs:{type:"text",placeholder:"用户名"},domProps:{value:e.register.username},on:{input:function(s){s.target.composing||e.$set(e.register,"username",s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.register.password,expression:"register.password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:e.register.password},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.onRegister.apply(null,arguments)},input:function(s){s.target.composing||e.$set(e.register,"password",s.target.value)}}}),s("p",{class:{error:e.register.isError}},[e._v(" "+e._s(e.register.notice)+" ")]),s("div",{staticClass:"button",on:{click:e.onRegister}},[e._v("创建账号")])])]),s("h3",{on:{click:e.showLogin}},[e._v("登录")]),s("transition",{attrs:{name:"slide"}},[s("div",{staticClass:"login",class:{show:e.isShowLogin}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.login.username,expression:"login.username"}],attrs:{type:"text",placeholder:"输入用户名"},domProps:{value:e.login.username},on:{input:function(s){s.target.composing||e.$set(e.login,"username",s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.login.password,expression:"login.password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:e.login.password},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.onLogin.apply(null,arguments)},input:function(s){s.target.composing||e.$set(e.login,"password",s.target.value)}}}),s("p",{class:{error:e.login.isError}},[e._v(" "+e._s(e.login.notice)+" ")]),s("div",{staticClass:"button",on:{click:e.onLogin}},[e._v("登录")])])])],1)])])])])},r=[],o=(i("49c2"),i("2b0e")),n=new o["default"],a=i("2f62"),l={data(){return{isShowRegister:!1,isShowLogin:!0,login:{username:"",password:"",notice:"请输入用户名和密码",isError:!1},register:{username:"",password:"",notice:"创建账号后，请记住用户名和密码",isError:!1}}},methods:{...Object(a["b"])({loginUser:"login",registerUser:"register"}),showRegister(){this.isShowRegister=!0,this.isShowLogin=!1},showLogin(){this.isShowRegister=!1,this.isShowLogin=!0},onRegister(){let e=this.validUsername(this.register.username);if(!e.isValid)return this.register.isError=!0,void(this.register.notice=e.notice);let s=this.validPassword(this.register.password);if(!s.isValid)return this.register.isError=!0,void(this.register.notice=s.notice);this.registerUser({username:this.register.username,password:this.register.password}).then(()=>{this.register.isError=!1,this.register.notice="",this.$router.push({path:"notebooks"})}).catch(e=>{this.register.isError=!0,this.register.notice=e.msg})},onLogin(){let e=this.validUsername(this.login.username);if(!e.isValid)return this.login.isError=!0,void(this.login.notice=e.notice);let s=this.validPassword(this.login.password);if(!s.isValid)return this.login.isError=!0,void(this.login.notice=s.notice);this.loginUser({username:this.login.username,password:this.login.password}).then(()=>{this.login.isError=!1,this.login.notice="",n.$emit("userInfo",{username:this.login.username}),this.$router.push({path:"notebooks"})}).catch(e=>{this.login.isError=!0,this.login.notice=e.msg})},validUsername(e){return{isValid:/^[\w\u4e00-\u9fa5]{3,15}$/.test(e),notice:"用户名3~15个字符，仅限于字母数字下划线中文"}},validPassword(e){return{isValid:/^.{6,16}$/.test(e),notice:"密码长度为6~16个字符"}}}},g=l,d=(i("2172"),i("2877")),u=Object(d["a"])(g,t,r,!1,null,"6a4784c2",null);s["default"]=u.exports},cf5d:function(e,s,i){}}]);
//# sourceMappingURL=chunk-e356fa14.4dfacb03.js.map